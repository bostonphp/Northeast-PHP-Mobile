var API,Application;Application={};API={};Application.capitalizeFirstLetter=function(a){return a.charAt(0).toUpperCase()+a.slice(1)};API.address="http://www.northeastphp.org";API.setupTalks=function(b){var a,c;if(b==null){b="a"}if(b!=="a"&&b!=="s"){b="a"}c={"a":API.address+"/api/talks.json","s":API.address+"/api/talks.json?sort=speaker"};a=c[b];$.ajax({"url":a,"dataType":"jsonp","success":function(g){var h,i,k,d,e,l,f,j;l=g["talks"];$("ul#talks-list").empty();for(f=0,j=l.length;f<j;f++){h=l[f];e=h["Talk"]["talk_like_count"];i=h["Speaker"]["first_name"];d=h["Speaker"]["last_name"];if(b==="a"){k=i+" "+d}else{if(b==="s"){k=d+", "+i}}$("ul#talks-list").append("<li>"+'<a href="/talk-details.html?id='+h["Talk"]["id"]+'" data-ajax="false">'+'<p class="html-strong" style="text-decoration: underline; margin-top: 0; margin-bottom: 15px;">'+h["Talk"]["topic"]+"</p>"+'<p style="margin-bottom: 10px;"><span class="html-strong">Speaker:</span> '+k+"</p>"+'<p><span class="html-strong">Track:</span> '+h["Track"]["name"]+"</p>"+'<p class="html-italic" style="margin-top: 10px; margin-bottom: 0;">'+e+" "+(parseInt(e)===1?"like":"likes")+"</p>"+"</a>"+"</li>").listview("refresh")}}})};API.setupTalkDetails=function(){var a;a=$.mobile.path.parseUrl($(location).attr("href")).search.replace("?id=","");$.ajax({"url":API.address+"/api/talks/"+a+".json","dataType":"jsonp","success":function(d){var f,e,b,c;f=d["talks"][0];b=f["Talk"]["start_time"];c=f["Talk"]["talk_like_count"];e=f["Talk"]["abstract"];$('div[data-role="content"]').append('<h2 class="talk-details-jqm-page-h2">'+f["Talk"]["topic"]+"</h2>"+'<p><span class="html-italic">'+Application.capitalizeFirstLetter(moment(b,"YYYY-MM-DD HH:mm:ss").fromNow())+"</span></p>"+"<hr />"+'<p><span class="html-strong">Speaker:</span> <a href="/speaker-details.html?id='+f["Speaker"]["id"]+'" data-ajax="false">'+f["Speaker"]["first_name"]+" "+f["Speaker"]["last_name"]+"</a></p>"+'<p><span class="html-strong">Room:</span> '+f["Talk"]["room"]+"</p>"+'<p><span class="html-strong">Date:</span> '+moment(b,"YYYY-MM-DD HH:mm:ss").format("MMMM Do, YYYY")+"</p>"+'<p><span class="html-strong">Time:</span> '+moment(b,"YYYY-MM-DD HH:mm:ss").format("hh:mm A")+"</p>"+'<p><span class="html-strong">Duration:</span> '+(f["Talk"]["duration"]-15)+" minutes</p>"+'<p><span class="html-strong">Track:</span> '+f["Track"]["name"]+"</p>"+"<hr />","<p>"+(e!==null?e:"No description provided.")+"</p>"+"<hr />"+"<p>"+'<span class="html-italic"><span class="html-strong">'+c+"</span> "+(parseInt(c)===1?"person":"people")+" "+(parseInt(c)===1?"likes":"like")+" this."+"</span>"+"</p>")}})};API.setupSpeakers=function(){$.ajax({"url":API.address+"/api/speakers.json","dataType":"jsonp","success":function(h){var j,e,b,c,d,g,f,i,a;c=h["speakers"];$("ul#speakers-list").empty();for(g=0,i=c.length;g<i;g++){j=c[g];b=j["Talk"];d="";for(f=0,a=b.length;f<a;f++){e=b[f];d+='"'+e["topic"]+'", '}d=d.slice(0,d.length-2);$("ul#speakers-list").append("<li>"+'<a href="/speaker-details.html?id='+j["Speaker"]["id"]+'" data-ajax="false">'+'<p class="html-strong" style="text-decoration: underline; margin-top: 0; margin-bottom: 15px;">'+j["Speaker"]["last_name"]+", "+j["Speaker"]["first_name"]+"</p>"+'<p><span class="html-strong">Talks:</span> '+d+"</p>"+"</a>","</li>").listview("refresh")}}})};API.setupSpeakerDetails=function(){var a;a=$.mobile.path.parseUrl($(location).attr("href")).search.replace("?id=","");$.ajax({"url":API.address+"/api/speakers/"+a+".json","dataType":"jsonp","success":function(h){var e,b,i,d,g,f,c;e=h["speakers"][0];d=e["Talk"];g='<ul data-inset="true" data-role="listview" id="speaker-talks-list">';for(f=0,c=d.length;f<c;f++){b=d[f];i=b["talk_like_count"];g+="<li>"+'<a href="/talk-details.html?id='+b["id"]+'" data-ajax="false">'+'<p class="html-strong">'+b["topic"]+"</p>"+'<p class="html-italic" style="margin-bottom: 0;">'+i+" "+(parseInt(i)===1?"like":"likes")+"</p>"+"</a>"+"</li>"}g+="</ul>";$('div[data-role="content"]').append('<h2 class="speaker-details-jqm-page-h2">'+e["Speaker"]["last_name"]+", "+e["Speaker"]["first_name"]+"</h2>"+"<hr />"+"<p>"+e["Speaker"]["about"]+"</p>"+"<hr />"+'<p><span class="html-strong">Website:</span> '+e["Speaker"]["website"]+"</p>"+'<p><span class="html-strong">Twitter:</span> '+e["Speaker"]["twitter"]+"</p>"+'<p class="html-strong">Talks:</p>');$('div[data-role="content"]').append(g).trigger("create")}})};